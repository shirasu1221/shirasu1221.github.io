<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>„ÅÇ„Å§Ê£Æ ÁæéË°ìÂìÅ„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„Éà</title>
    <style>
        :root {
            --main-color: #5fb48b;
            --bg-color: #fdfaf0;
            --card-bg: #ffffff;
            --text-color: #4a4a4a;
            --hint-bg: #fff9e6;
            --hint-text: #555555;
            --sidebar-bg: #ffffff;
            --accent-color: #ff9800;
        }
        body.dark-mode {
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-color: #e0e0e0;
            --hint-bg: #3d3a30;
            --hint-text: #cccccc;
            --sidebar-bg: #252525;
        }
        * { transition: background-color 0.3s ease, color 0.3s ease; }
        body {
            display: grid;
            grid-template-areas: "nav" "main" "footer";
            grid-template-rows: auto 1fr auto;
            height: 100vh; margin: 0; font-family: sans-serif;
            background-color: var(--bg-color); color: var(--text-color);
            overflow: hidden; touch-action: none;
        }
        .category-label { display: none; padding: 20px 18px 10px; font-size: 0.75rem; font-weight: bold; color: var(--main-color); letter-spacing: 0.1em; opacity: 0.8; }
        .reveal { opacity: 0; transform: translateX(25px); transition: opacity 0.5s ease, transform 0.5s ease; }
        .reveal.active { opacity: 1; transform: translateX(0); }
        nav { grid-area: nav; background: var(--sidebar-bg); border-bottom: 2px solid var(--main-color); z-index: 100; }
        .tabs-row { display: flex; width: 100%; }
        .tab { flex: 1; padding: 18px; border: none; background: none; font-weight: bold; cursor: pointer; color: var(--text-color); border-bottom: 4px solid transparent; font-size: 1rem; }
        .tab.active { border-bottom-color: var(--main-color); color: var(--main-color); background: rgba(95, 180, 139, 0.05); }
        main { grid-area: main; padding: 20px; overflow-y: auto; width: 100%; box-sizing: border-box; max-width: 850px; justify-self: center; touch-action: pan-y; }
        .progress-card { background: var(--card-bg); padding: 15px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .bar-bg { width: 100%; height: 10px; background: #eee; border-radius: 5px; overflow: hidden; margin: 8px 0; }
        .bar-fill { height: 100%; background: var(--main-color); width: 0%; transition: width 0.6s ease; }
        .item { background: var(--card-bg); margin-bottom: 15px; padding: 20px; border-radius: 12px; border-left: 6px solid var(--main-color); box-shadow: 0 2px 8px rgba(0,0,0,0.06); position: relative; }
        .item-header { display: flex; align-items: center; justify-content: space-between; }
        .item-name-box { display: flex; align-items: center; cursor: pointer; flex: 1; }
        .item-name-box label { font-weight: bold; cursor: pointer; margin-left: 10px; flex: 1; }
        .guide-btn {
            background: var(--hint-bg); color: var(--accent-color); text-decoration: none;
            padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: bold;
            border: 1px solid var(--accent-color); white-space: nowrap; margin-left: 10px;
        }
        .guide-btn:hover { background: var(--accent-color); color: white; }
        .hint { margin-top: 10px; font-size: 0.9em; background: var(--hint-bg); color: var(--hint-text); padding: 12px; border-radius: 8px; line-height: 1.5; }
        footer { grid-area: footer; background: var(--sidebar-bg); padding: 12px; display: flex; gap: 10px; border-top: 1px solid rgba(0,0,0,0.1); }
        .btn { flex: 1; height: 48px; border: none; border-radius: 8px; background: var(--main-color); color: white; font-weight: bold; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn.secondary { background: #666; }
        @media (min-width: 1024px) {
            body { grid-template-areas: "nav main"; grid-template-columns: 220px 1fr; grid-template-rows: 1fr; }
            nav { border-bottom: none; border-right: 3px solid var(--main-color); height: 100vh; }
            .category-label { display: block; }
            .tabs-row { flex-direction: column; }
            footer { position: fixed; bottom: 20px; right: 20px; flex-direction: column; background: transparent; border: none; width: auto; padding: 0; }
            .btn { width: 60px; height: 60px; border-radius: 50%; box-shadow: 0 4px 15px rgba(0,0,0,0.2); font-size: 1.6rem; flex: none; }
            .btn span { display: none; }
        }
        .content { display: none; }
        .content.active { display: block; }
    </style>
</head>
<body>

<nav>
    <div class="category-label">CATEGORY</div>
    <div class="tabs-row">
        <button class="tab active" id="btn-paintings" onclick="showTab('paintings')">üñºÔ∏è ÂêçÁîª</button>
        <button class="tab" id="btn-statues" onclick="showTab('statues')">üóø ÂΩ´Âàª</button>
    </div>
</nav>

<main id="main-scroll">
    <div class="progress-card">
        <div style="display: flex; justify-content: space-between; font-size: 0.85em; font-weight: bold;"><span>üñºÔ∏è ÂêçÁîª</span><span id="txt-p">0% (0/30)</span></div>
        <div class="bar-bg"><div id="bar-p" class="bar-fill"></div></div>
        <div style="display: flex; justify-content: space-between; font-size: 0.85em; font-weight: bold; margin-top:15px;"><span>üóø ÂΩ´Âàª</span><span id="txt-s">0% (0/13)</span></div>
        <div class="bar-bg"><div id="bar-s" class="bar-fill"></div></div>
    </div>
    <div id="paintings" class="content active"></div>
    <div id="statues" class="content"></div>
</main>

<footer>
    <button class="btn" onclick="exportJSON()">üíæ<span>„Çª„Éº„Éñ</span></button>
    <button class="btn" onclick="document.getElementById('importFile').click()">üìÇ<span>„É≠„Éº„Éâ</span></button>
    <button class="btn secondary" onclick="toggleDarkMode()">üåì</button>
    <input type="file" id="importFile" style="display:none" onchange="importJSON(event)" accept=".json">
</footer>

<script>
const data = {
    paintings: [
        {name: "„Ç¢„Ç´„Éá„Éü„ÉÉ„ÇØ„Å™„ÇÅ„ÅÑ„Åå", id: "198839", hint: "Âè≥‰∏ä„Å´„Ç≥„Éº„Éí„ÉºË∑°„Åå„ÅÇ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÅÇ„Çâ„Å∂„Çã„ÇÅ„ÅÑ„Åå„ÅÆ„Å≤„Å†„Çä", id: "198841", hint: "Èõ∑Á•û„ÅåÁôΩ„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÅÇ„Çâ„Å∂„Çã„ÇÅ„ÅÑ„Åå„ÅÆ„Åø„Åé", id: "198843", hint: "È¢®Á•û„ÅåÁ∑ë„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÅÑ„ÅÑ„Åã„Çì„Åò„ÅÆ„ÇÅ„ÅÑ„Åå", id: "198845", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„ÅÑ„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198844", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„ÅÑ„Åç„Å™„ÇÅ„ÅÑ„Åå", id: "198884", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„ÅÑ„Åï„Åæ„Åó„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198854", hint: "ÂâçÈ´™„Åå„Å±„Å£„Å§„Çì„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÅÑ„Å™„Åõ„Å™„ÇÅ„ÅÑ„Åå", id: "198849", hint: "Áúâ„Åå‰∏ä„Åå„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åä„Åî„Åù„Åã„Å™„ÇÅ„ÅÑ„Åå", id: "198851", hint: "Â••„ÅÆÊââ„ÅÆÁî∑ÊÄß„Åå„Ç´„Éº„ÉÜ„É≥„ÇíËß¶„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åä„Å†„ÇÑ„Åã„Å™„ÇÅ„ÅÑ„Åå", id: "198971", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åä„Å°„Å§„ÅÑ„Åü„ÇÅ„ÅÑ„Åå", id: "198880", hint: "Áâõ‰π≥„Åå„Éâ„Éê„Éâ„ÉêÂá∫„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åä„ÇÇ„Åó„Çç„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198854", hint: "ËÉ∏„Å´Ëä±„Åå„Å™„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åã„Å°„ÅÆ„ÅÇ„Çã„ÇÅ„ÅÑ„Åå", id: "198998", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åç„Çå„ÅÑ„Å™„ÇÅ„ÅÑ„Åå", id: "198857", hint: "Âè≥‰∏ä„Å´Êú®„Åå„Å™„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åó„Åö„Åø„ÇÜ„Åè„ÇÅ„ÅÑ„Åå", id: "198858", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åó„Å™„ÇÑ„Åã„Å™„ÇÅ„ÅÑ„Åå", id: "198859", hint: "Â∑¶Âêë„Åç„ÄÅ„Åæ„Åü„ÅØÂ∑®Â§ß„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åô„Åî„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198860", hint: "‰∏≠Â§Æ„ÅÆÁî∑ÊÄß„ÅåÂ∏ΩÂ≠ê„ÇíË¢´„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åô„Å¶„Åç„Å™„ÇÅ„ÅÑ„Åå", id: "198840", hint: "ËÄ≥È£æ„Çä„ÅåÊòüÂûã„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åô„Å∞„Çâ„Åó„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198863", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åü„Åä„ÇÑ„Åã„Å™„ÇÅ„ÅÑ„Åå", id: "198864", hint: "Êä±„ÅÑ„Å¶„ÅÑ„ÇãÁôΩË≤Ç„Åå„Ç∞„É¨„Éº„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åü„Åê„ÅÑ„Åæ„Çå„Å™„Çã„ÇÅ„ÅÑ„Åå", id: "198865", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Å°„Åã„Çâ„Å•„Çà„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198866", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Å°„Åø„Å§„Å™„ÇÅ„ÅÑ„Åå", id: "198867", hint: "Ëä±„ÅåÁ¥´„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Å™„Åû„ÇÅ„ÅÑ„Åü„ÇÅ„ÅÑ„Åå", id: "198868", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Å´„Åé„ÇÑ„Åã„Å™„ÇÅ„ÅÑ„Åå", id: "198869", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„ÅØ„Å™„ÇÑ„Åã„Å™„ÇÅ„ÅÑ„Åå", id: "198870", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Å≤„Åã„Çä„ÅÆ„ÇÅ„ÅÑ„Åå", id: "198871", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åæ„Åü„Åü„Åè„ÇÅ„ÅÑ„Åå", id: "198873", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åø„Åî„Å®„Å™„ÇÅ„ÅÑ„Åå", id: "198906", hint: "Â∑¶ÂÅ¥„Å´Áã©‰∫∫„Åå„ÅÑ„Å™„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åø„Åö„Åø„Åö„Åó„ÅÑ„ÇÅ„ÅÑ„Åå", id: "198875", hint: "Âè≥‰∏ä„Å´„Ç∑„Éü„Åå„ÅÇ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÇÄ„Åò„Å§„Å™„ÇÅ„ÅÑ„Åå", id: "198876", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„ÇÅ„ÅÑ„Åü„Çã„ÇÅ„ÅÑ„Åå", id: "198877", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ„Å™„ÇÅ„ÅÑ„Åå", id: "198878", hint: "„Åæ„ÇÜ„Åí„Åå„ÅÇ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Çà„Åè„Åø„Çã„ÇÅ„ÅÑ„Åå", id: "198879", hint: "Êú¨Áâ©„ÅÆ„Åø"}
    ],
    statues: [
        {name: "„ÅÑ„Åó„ÅÇ„Åü„Åæ„ÅÆ„Å°„Çá„ÅÜ„Åì„Åè", id: "198842", hint: "Á¨ë„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÅÑ„Å´„Åó„Åà„ÅÆ„Å°„Çá„ÅÜ„Åì„Åè", id: "198882", hint: "ËÄ≥„Å´„Ç¢„É≥„ÉÜ„Éä„Åå„ÅÇ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„ÅÜ„Å§„Åè„Åó„ÅÑ„Å°„Çá„ÅÜ„Åì„Åè", id: "198883", hint: "„Éç„ÉÉ„ÇØ„É¨„Çπ„Çí„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åä„Åä„ÅÑ„Å™„Çã„Å°„Çá„ÅÜ„Åì„Åè", id: "198884", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åã„Å¶„ÅÑ„Å™„Å°„Çá„ÅÜ„Åì„Åè", id: "198885", hint: "Âô®„Å´„Éï„Çø„Åå„ÅÇ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åì„ÅÜ„Åî„ÅÜ„Åó„ÅÑ„Å°„Çá„ÅÜ„Åì„Åè", id: "198886", hint: "Â∑¶Ë∂≥„ÅåÂâç„Å™„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åó„Çì„Å¥„Å¶„Åç„Å™„Å°„Çá„ÅÜ„Åì„Åè", id: "198891", hint: "ËÄ≥È£æ„Çä„Åå„Å§„ÅÑ„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Åü„Åè„Åæ„Åó„ÅÑ„Å°„Çá„ÅÜ„Åì„Åè", id: "198888", hint: "Âè≥Êâã„Å´ËÖïÊôÇË®à„Çí„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Å¶„Åå„Åã„Çä„ÅÆ„Å°„Çá„ÅÜ„Åì„Åè", id: "198889", hint: "Ëâ≤„ÅåÈùí„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Å®„Å¶„Å§„ÇÇ„Å™„ÅÑ„Å°„Çá„ÅÜ„Åì„Åè", id: "198890", hint: "Âèñ„Å£Êâã„Åå„Å™„ÅÑ„ÅÆ„ÅåÂÅΩÁâ©"},
        {name: "„Å™„Åò„Åø„ÅÆ„ÅÇ„Çã„Å°„Çá„ÅÜ„Åì„Åè", id: "198892", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Åº„Çì„ÇÑ„Çä„Åó„Åü„Å°„Çá„ÅÜ„Åì„Åè", id: "198893", hint: "Êú¨Áâ©„ÅÆ„Åø"},
        {name: "„Çä„Çä„Åó„ÅÑ„Å°„Çá„ÅÜ„Åì„Åè", id: "198894", hint: "Âè≥ËÑá„Å´Êú¨„ÇíÊä±„Åà„Å¶„ÅÑ„Çã„ÅÆ„ÅåÂÅΩÁâ©"}
    ]
};

function createList(type, listId) {
    const container = document.getElementById(listId);
    data[type].forEach(item => {
        const div = document.createElement('div');
        div.className = 'item reveal';
        const checkId = `check-${item.name}`;
        const isChecked = localStorage.getItem(checkId) === 'true';
        const link = `https://gamewith.jp/atsumori/article/show/${item.id}`;

        div.innerHTML = `
            <div class="item-header">
                <div class="item-name-box">
                    <input type="checkbox" id="${checkId}" ${isChecked ? 'checked' : ''} onclick="updateStatus('${checkId}')">
                    <label for="${checkId}">${item.name}</label>
                </div>
                <a href="${link}" target="_blank" class="guide-btn">üîç Ë¶ãÂàÜ„ÅëÊñπ</a>
            </div>
            <div class="hint">${item.hint}</div>
        `;
        container.appendChild(div);
    });
}

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('active');
        else entry.target.classList.remove('active');
    });
}, { threshold: 0.1 });

function showTab(tabName) {
    const targetBtn = document.getElementById(tabName === 'paintings' ? 'btn-paintings' : 'btn-statues');
    if (targetBtn.classList.contains('active')) return;
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    targetBtn.classList.add('active');
    document.querySelectorAll('.content').forEach(c => {
        c.classList.remove('active');
        c.querySelectorAll('.reveal').forEach(el => el.classList.remove('active'));
    });
    const targetContent = document.getElementById(tabName);
    targetContent.classList.add('active');
    document.getElementById('main-scroll').scrollTop = 0;
    setTimeout(() => {
        targetContent.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    }, 50);
}

function updateStatus(id) {
    const cb = document.getElementById(id);
    localStorage.setItem(id, cb.checked ? 'true' : 'false');
    updateProgressBar();
}

function updateProgressBar() {
    ['paintings', 'statues'].forEach(cat => {
        const key = cat === 'paintings' ? 'p' : 's';
        const total = data[cat].length;
        const checked = data[cat].filter(item => localStorage.getItem(`check-${item.name}`) === 'true').length;
        const percent = Math.round((checked / total) * 100);
        document.getElementById(`txt-${key}`).innerText = `${percent}% (${checked}/${total})`;
        document.getElementById(`bar-${key}`).style.width = `${percent}%`;
    });
}

function exportJSON() {
    const fileName = prompt("‰øùÂ≠ò„Åô„ÇãÂêçÂâç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:", "„ÅÇ„Å§Ê£ÆÁæéË°ìÂìÅ„ÉÅ„Çß„ÉÉ„ÇØ");
    if (fileName === null) return;
    const storageData = {};
    ['paintings', 'statues'].forEach(cat => {
        data[cat].forEach(item => {
            const id = `check-${item.name}`;
            const status = localStorage.getItem(id);
            storageData[id] = status ? status : "false";
        });
    });
    const blob = new Blob([JSON.stringify(storageData, null, 2)], { type: 'application/json' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = `${fileName || 'art_check'}.json`;
    a.click();
}

function importJSON(event) {
    const reader = new FileReader();
    reader.onload = (e) => {
        try {
            const imported = JSON.parse(e.target.result);
            Object.keys(imported).forEach(k => { localStorage.setItem(k, imported[k]); });
            location.reload();
        } catch (err) { alert("„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ"); }
    };
    reader.readAsText(event.target.files[0]);
}

function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
}

createList('paintings', 'paintings');
createList('statues', 'statues');
updateProgressBar();
document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
if (localStorage.getItem('darkMode') === 'true') document.body.classList.add('dark-mode');
</script>
</body>
</html>
