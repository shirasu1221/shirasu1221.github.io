<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>しらすのサイト</title>

  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      height: 100vh;
      background: url('https://wallpaper.forfun.com/fetch/e3/e31d4e0667f9ae90b89fa1ea58cb6d7f.jpeg?w=1470&r=0.5625') no-repeat center center;
      background-size: cover;
      overflow: hidden;
    }

    .menu-btn {
      position: fixed;
      left: 20px;
      top: 20px;
      font-size: 26px;
      color: white;
      background: rgba(0,0,0,0.5);
      border: none;
      padding: 10px 14px;
      border-radius: 6px;
      cursor: pointer;
      z-index: 2000;
      user-select: none;
      touch-action: none;
    }

    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      width: 230px;
      height: 100vh;
      background: rgba(20, 25, 35, 0.92);
      color: white;
      padding: 20px;
      box-sizing: border-box;
      transform: translateX(-100%);
      transition: transform 0.4s ease;
      z-index: 1500;
    }

    .sidebar.show {
      transform: translateX(0);
    }

    .sidebar button {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      background: rgba(40, 55, 75, 0.9);
      border: none;
      color: white;
      border-radius: 5px;
      font-size: 15px;
      cursor: pointer;
    }

    .content {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      padding: 20px;
      box-sizing: border-box;
      color: white;
      overflow-y: auto;
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(4px);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .content.show {
      opacity: 1;
    }

    .back-btn {
      padding: 10px 14px;
      background: rgba(200,30,30,0.9);
      border: none;
      border-radius: 5px;
      color: white;
      cursor: pointer;
      margin-bottom: 20px;
    }
  </style>
</head>

<body>

  <!-- ドラッグ可能な ≡ ボタン -->
  <button class="menu-btn" id="menuBtn" aria-label="メニューボタン">≡</button>

  <div class="sidebar" id="sidebar" aria-hidden="true">
    <h2>しらす</h2>
    <button data-target="page1">IPA ダウンロード</button>
    <button data-target="page2">IPA インストール</button>
    <button data-target="page3">SNS</button>
  </div>

  <div class="content" id="content" aria-live="polite">
    <button class="back-btn" id="backBtn">← メニューに戻る</button>

    <div id="page1" class="page" style="display:none">
      <h2>IPA ダウンロード</h2>
      <p><a href="#" style="color:#87b3ff">IPAダウンロード</a></p>
    </div>

    <div id="page2" class="page" style="display:none"></div>

    <div id="page3" class="page" style="display:none">
      <h2>SNS</h2>
      <p>YouTube → <a href="https://youtube.com/@shirasu1221" style="color:#87b3ff">しらす</a></p>
      <p>GitHub → <a href="https://github.com/shirasu1221" style="color:#87b3ff">@shirasu1221</a></p>
    </div>
  </div>

  <script>
    const menuBtn = document.getElementById("menuBtn");
    const sidebar = document.getElementById("sidebar");
    const content = document.getElementById("content");
    const backBtn = document.getElementById("backBtn");
    const pages = document.querySelectorAll(".page");

    let menuOpen = false;

    menuBtn.onclick = () => {
      if (menuOpen) {
        sidebar.classList.remove("show");
        sidebar.setAttribute("aria-hidden","true");
      } else {
        sidebar.classList.add("show");
        sidebar.setAttribute("aria-hidden","false");
        content.classList.remove("show");
      }
      menuOpen = !menuOpen;
    };

    document.querySelectorAll(".sidebar button[data-target]").forEach(btn => {
      btn.onclick = () => {
        const target = btn.dataset.target;
        pages.forEach(p => p.style.display="none");
        document.getElementById(target).style.display="block";
        sidebar.classList.remove("show");
        sidebar.setAttribute('aria-hidden','true');
        content.classList.add("show");
        menuOpen = false;
      };
    });

    backBtn.onclick = () => {
      content.classList.remove("show");
      sidebar.classList.add("show");
      sidebar.setAttribute('aria-hidden','false');
      menuOpen = true;
    };

    // ドラッグ処理
    let dragging=false, offsetX=0, offsetY=0;

    function startDrag(e){
      dragging=true;
      const rect=menuBtn.getBoundingClientRect();
      const clientX=e.touches?e.touches[0].clientX:e.clientX;
      const clientY=e.touches?e.touches[0].clientY:e.clientY;
      offsetX=clientX-rect.left; offsetY=clientY-rect.top;
    }
    function drag(e){
      if(!dragging) return;
      const clientX=e.touches?e.touches[0].clientX:e.clientX;
      const clientY=e.touches?e.touches[0].clientY:e.clientY;
      const x=Math.min(window.innerWidth-50, Math.max(0, clientX-offsetX));
      const y=Math.min(window.innerHeight-50, Math.max(0, clientY-offsetY));
      menuBtn.style.left = x + "px";
      menuBtn.style.top = y + "px";
    }
    function endDrag(){ dragging=false; }

    menuBtn.addEventListener("mousedown", startDrag);
    menuBtn.addEventListener("touchstart", startDrag, {passive:false});
    window.addEventListener("mousemove", drag);
    window.addEventListener("touchmove", drag, {passive:false});
    window.addEventListener("mouseup", endDrag);
    window.addEventListener("touchend", endDrag);
  </script>
</body>
</html>
